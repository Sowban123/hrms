{% extends 'base.html' %}
{% block content %}
<h3 class="mb-4 fw-bold">HR Dashboard</h3>

<div class="row mb-4">
  <div class="col-md-4">
    <div class="card shadow-sm border-0 text-bg-primary">
      <div class="card-body text-center">
        <h6>Total Employees</h6>
        <p class="fs-2 fw-bold">{{ total_employees }}</p>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card shadow-sm border-0 text-bg-warning">
      <div class="card-body text-center">
        <h6>Pending Leave Requests</h6>
        <p class="fs-2 fw-bold">{{ pending_leaves }}</p>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card shadow-sm border-0 text-bg-warning">
      <div class="card-body text-center">
        <h6>Pending Leave Requests</h6>
        <a href="{% url 'leaves:admin_list' %}" class="btn btn-dark px-4">Manage Leave Requests</a>
         <a href="{% url 'employees:create' %}" class="btn btn-primary">Add New Employee</a>

        
      </div>
    </div>
  </div>

  
</div>



<hr class="my-4">

<h4 class="fw-bold mt-3 mb-3">Generate Payroll</h4>

<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>Employee</th>
      <th>Designation</th>
      <th>Salary</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    {% for emp in employees %}
    <tr>
      <td>{{ emp.user.get_full_name }}</td>
      <td>{{ emp.designation }}</td>
      <td>â‚¹ {{ emp.basic_salary }}</td>
      <td>
        <a href="{% url 'payroll:generate' emp.id %}" class="btn btn-dark btn-sm">
          Generate Payroll
        </a>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="4" class="text-center">No employees found</td>
    </tr>
    {% endfor %}
  </tbody>
</table>


{% endblock %}